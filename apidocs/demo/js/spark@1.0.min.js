!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(document,window):"function"==typeof define&&define.amd?define(t):(e=e||self).Spark=t(document,window)}(this,function(c,e){"use strict";var t="undefined"!=typeof window,n=t&&window.navigator.userAgent.toLowerCase(),o=Object.prototype;function r(e,t,n,i){e&&e.addEventListener(t,n,i||!1)}function i(e,t,n,i){e&&e.removeEventListener(t,n,i||!1)}function h(e,t){return o.toString.call(e)==="[object "+t+"]"}"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var i in n)o.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e});var u={screen:{width:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},height:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},scrollTop:function(){return document.documentElement.scrollTop||document.body.scrollTop},scrollHeight:function(){return document.documentElement.scrollHeight||document.body.scrollHeight},resize:function(e){window.onresize=function(){e({width:u.screen.width(),height:u.screen.height()})},window.onresize()}},includes:function(e,t){return-1!=e.indexOf(t)},trimAll:function(e){return e.replace(/\s*/g,"")},trim:function(e){return e?e.replace(/^\s*|\s*$/g,""):""},debounce:function(n,i){var o=null;return function(e){e.stopPropagation();var t=arguments;o&&clearTimeout(o),o=setTimeout(function(){n.apply(this,t)},i)}},throttle:function(t,n){var i=0;return function(){var e=+new Date;n<e-i&&(t.apply(this,arguments),i=e)}},urlParam:function(e,t){t=new RegExp("(\\?|&)"+e+"=([^&#]*)").exec(t||location.href);return null!=t?decodeURIComponent(t[2]):null},deepCopyObj:function(e){var t,n=Array.isArray(e)?[]:{};for(t in e)e.hasOwnProperty(t)&&("object"==typeof e[t]&&null!==e[t]?n[t]=this.deepCopyObj(e[t]):n[t]=e[t]);return n},loadScript:function(e,t){var n=document.createElement("script");n.type="text/javascript",n.readyState?n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t(n)},n.src=e,document.body.appendChild(n)},getFile:function(e,t,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){4==i.readyState&&200==i.status?t&&t(i.responseText):n&&n()},i.load,i.open("get",e),i.responseType="text",i.send()},unique:function(e){if(Array.isArray(e)){for(var t=[],n={},i=0;i<e.length;i++)n[e[i]]?n[e[i]]++:(t.push(e[i]),n[e[i]]=1);return t}console.log("type error!")},devTool:function(e){this.loadScript(e||"https://cdn.bootcss.com/eruda/1.5.8/eruda.min.js",function(){console.info("eruda dev tool init ok"),eruda.init()})},env:{inBrowser:t,UA:n,isMobile:n&&/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent),isIE:n&&/msie|trident/.test(n),isIE9:n&&0<n.indexOf("msie 9.0"),isEdge:n&&0<n.indexOf("Edge/"),isAndroid:n&&0<n.indexOf("android"),isIOS:n&&/iphone|ipad|ipod|ios/.test(n),isChrome:n&&/chrome\/\d+/.test(n),isFF:n&&n.match(/firefox\/(\d+)/),isWeixin:n&&n.match(/MicroMessenger\/[0-9]/i),isQQ:n&&n.match(/QQ\/[0-9]/i)},getImgInfo:function(e,t){var n=new Image;n.src=e,n.onload=function(){t({width:n.width,height:n.height})}},compareRemove:function(e,t){if(h(e,"Array")&&t)for(var n=0;n<e.length;n++)(t.a?e[n][t.a]:e[n])==t.b&&(e.splice(n,1),n--)},traverse:function(n,i){if(h(n,"Array")){var o=n.length,r=0;if(o<=(a=40))for(var e=r;e<o;e++)i(n[e],e,e==o-1);else setTimeout(function e(){for(var t=r;t<r+a&&t<o;t++)i(n[t],t,t==o-1);(r=t)<o&&setTimeout(e,0)},0)}if(h(n,"Object"),h(n,"Number")){var a,r=0;if((o=n)<=(a=40))for(e=r;e<o;e++)i(e,e==o-1);else setTimeout(function e(){for(var t=r;t<r+a&&t<o;t++)i(t,t==o-1);(r=t)<o&&(console.log(66),setTimeout(e,0))},0)}},isInArray:function(e,t){for(var n=0;n<e.length;n++){if((t.a?e[n][t.a]:e[n])==t.b)return n;if(n==e.length-1)return-1}},isInArrayIncludes:function(e,t){for(var n=0;n<e.length;n++){if(u.includes(t.a?e[n][t.a]:e[n],t.b))return n;if(n==e.length-1)return-1}}};function a(){this.getUrlSearchParam=function(e){return this.core(e||location.search)},this.getUrlHashParam=function(e){return this.core(e||location.hash)}}function s(){var a=this;this.renderQueues=[],this.tempModuleLoadQueue=[],this.DefaultSetting={name:"test",title:"Spark Web",scene:"pc",router:"history",devTool:!1,gray:!1},this.widgetClassNames=[],this.CSSCache={},this.WidgetCache={},this.PageCache=[],this.EventCache=[],this.CSS=this.CSSManager(),this.HTML=this.HTMLManager(),this.WidgetWatchParams={show:function(e,t,n){if(e===t)return t;n.watch&&n.watch.show&&n.watch.show(e,t);var i,e=n.hideAni;return!t&&e&&e.ani?(n.style="animation:"+e.ani,i=setTimeout(function(){clearTimeout(i),n.style="display:none;animation:none;"},e.time)):t&&n.showAni?(n.style="animation:"+n.showAni+";",n.style="r_d_n"):t?n.style="r_d_n":t||(n.style="display:none;"),t},style:function(t,e,n){var i=t;if("string"!=typeof e)return e;var o,r="r_d_n"==(e=u.trim(e))?"":e;if(t==e)return e;try{return"r_d_n"==e&&(i=i.replace("display:none;","")),o=Object.assign(a.CSS.strStyleToObj(i),a.CSS.strStyleToObj(r)),n.styleObj=o,e=a.CSS.objStyleToStr(o),a.CSS.modify(n.name,"{"+e+"}"),e}catch(e){console.error("style is an object:"+t.name)}},className:function(e,n,i){var o=e;if("string"!=typeof n)return n;if(e===n)return n;i.watch&&i.watch.className&&i.watch.className(o,n);var r=document.getElementsByClassName(i.name);u.traverse(r.length,function(e,t){r[e].className=i.className?r[e].className.replace(o,n):r[e].className+" "+n})},text:function(e,n,t){if(e===n)return n;t.watch&&t.watch.text&&t.watch.text(e,n);var i=document.getElementsByClassName(t.name);return u.traverse(i.length,function(e,t){i[e].innerText=n}),n},child:function(e,t,n){return JSON.stringify(e)===JSON.stringify(t)||n.watch&&n.watch.child&&n.watch.child(e,t),t}}}a.prototype.core=function(e){var t={};if(e){var n=e.substr(0,1),i=e.replace(new RegExp("&&","g"),"&").replace(new RegExp("^\\"+n+"*"),n),o=i.replace(new RegExp("^\\"+n+"*"),"").split("&");try{for(var r=0;r<o.length;r++){var a=o[r],s=(a.split("="),a.match(/(\S*?)=/)[1]),a=a.match(/=(\S*)/)[1];t[s]=decodeURIComponent(a)}t.origin=i}catch(e){console.warn(e+" url prase filed!")}}return t},s.prototype.CreateWidgetName=function(e){e=e+"-"+(268435456*(1+Math.random())|0).toString(16),e=1==-this.widgetClassNames.join(",").indexOf(e)?e:e+"x2";return this.widgetClassNames.push(e),e},s.prototype.WidgetDefineProperty=function(r,e){var a=this,s={};u.traverse(e,function(e,t,n){var i,o;s[e]=r[e],i=e,o=null,Object.defineProperty(r,i,{get:function(){return o},set:function(e){o=s[i]=a.WidgetWatchParams[i](s[i],e,r)}}),r[i]=s[i]})},s.prototype.HTMLManager=function(){var p=this,r={getAddress:function(e,i){if(!e)return[];var o=[];return u.traverse(e,function(e,t,n){e.parentName=i,o.push(e.name)}),o},getClassName:function(e){var t="";return t+=e&&"object"==typeof e.className?e.className.name+" ":e&&"string"==typeof e.className?e.className+"":"",t+=e&&"object"==typeof e.shover?e.shover.name+" ":""},getDomEvent:function(e){return{clear:function(){return this.delete(0,this.data.length),this},delete:function(e,t,i){var o=this.child.slice(0),n=o.splice(e,t);return u.traverse(n,function(e,t,n){d.getAddressData(e).remove("",i),o=null}),this},insertFirst:function(e,o){if(!h(e,"Undefined")&&!h(e,"Null")){var r=this,a=[],s=[];return h(e,"Array")?u.traverse(e,function(e,t,n){var i=r.item(e,"");o&&(delete i.showAni,i.style="animation:none"),a.push(r.item(e,"")),s.push(e)}):(a=this.item(e,""),o&&(delete a.showAni,a.style="animation:none"),s.push(e)),this.data.splice.apply(this.data,[0,0].concat(s)),this.prepend(a),a=s=null,this}console.warn("no data")},insertLast:function(e,o){if(!h(e,"Undefined")&&!h(e,"Null")){var r=this,a=[],s=[];return h(e,"Array")?u.traverse(e,function(e,t,n){var i=r.item(e,"");o&&(delete i.showAni,i.style="animation:none;"),a.push(i),s.push(e)}):(a=this.item(e,""),o&&(delete a.showAni,a.style="animation:none;"),s.push(e)),this.data=this.data.concat(s),this.append(a),a=s=null,this}console.warn("no data")},insert:function(e,t,i){if(!h(t,"Undefined")&&!h(t,"Null")){var o=this,r=[],a=[],n=0<this.child.length?this.child.length-1:0;return h(t,"Array")?u.traverse(t,function(e,t,n){a.push(e)}):a.push(t),n<=e?0==n?o.insertFirst(a,i):o.insertLast(a,i):(u.traverse(a,function(e,t,n){e=o.item(e,"");i&&(delete e.showAni,e.style="animation:none;"),r.push(e)}),this.data.splice.apply(this.data,[e,0].concat(a)),d.getAddressData(this.child[e]).before(r)),r=a=null,this}console.warn("no data")},update:function(e,t){if(!(h(t,"Undefined")||h(t,"Null")||e>this.data.length-1||e<0)){var n=null;return h(t,"Object")&&(n=Object.assign(this.data[e],t)),(h(t,"String")||h(t,"Number"))&&(n=t),this.insert(e,n,!0),this.delete(e+1>=this.data.length-1?this.data.length-2:e+1,1,!0),this}console.warn("not found data")},append:function(e,t){return d.addDom(this,e,"append",t)},prepend:function(e,t){return d.addDom(this,e,"prepend",t)},removeChild:function(e,t){var n,i=this,o=null;if(h(e,"Object")&&(o=e),(h(e,"Number")||h(e,"String"))&&(n="firstChild"==e?0:"lastChild"==e?this.child.length-1:e,o=p.getAddressData(this.child[n])),!o)return this;var r,t=t||o.hideAni;return t&&t.ani?(o.style="animation:"+t.ani+";",r=setTimeout(function(){clearTimeout(r),d.remove(i,e),o.style="animation:none;",o=null},t.time)):d.remove(this,e),this},after:function(e,t){return d.addDom(this,e,"after",t)},before:function(e,t){return d.addDom(this,e,"before",t)},remove:function(e,i){var t,o=this,r=e||this.hideAni;h(o.parentName,"Array")&&(e=o.parentName.slice(0),u.traverse(e,function(e,t){var n;r&&r.ani&&!i?(o.style="animation:"+r.ani+";",n=setTimeout(function(){clearTimeout(n),d.remove(p.WidgetCache[e],o),o.style="animation:none;"},r.time)):d.remove(p.WidgetCache[e],o)})),h(o.parentName,"String")&&(r&&r.ani&&!i?(o.style="animation:"+r.ani+";",t=setTimeout(function(){clearTimeout(t),d.remove(p.WidgetCache[o.parentName],o),o.style="animation:none;"},r.time)):d.remove(p.WidgetCache[o.parentName],o))},empty:function(){u.traverse(this.child,function(e,t){p.WidgetCache[e]&&p.WidgetCache[e].remove("",!0)})}}[e]},getKeyValue:function(e){return{html:function(){var e=this.idName?"id="+this.idName:"",t=r.getClassName(this)+this.name;return"Image"==this.type?"<img "+e+' class="'+t+'" src="'+this.imgurl+'" />':"<"+this.tag+" "+e+' class="'+t+'">'+("Text"==this.type?this.text+"[["+this.name+"]]":"[["+this.name+"]]")+"</"+this.tag+">"},style:function(){var e="";return h(this.className,"Object")&&(e+=this.className.style),e+=this.defaultcss+(this.style||""),h(this.showAni,"Object")&&(e+="animation:"+this.showAni.ani+";"),"Drag"===this.type&&this.bounded&&this.bounded.parent&&(e+="position:absolute;"),delete this.defaultcss,e},child:function(){var i=[],o=this;if("List"==this.type){var n=this.data;if(h(this.data,"Number")&&(n=[],u.traverse(this.data,function(e,t){n.push(e)})),h(this.data,"String"))try{n=JSON.parse(this.data)}catch(e){n=[],console.error("JSON error")}h(n,"Array")&&0<n.length&&h(this.item,"Function")&&u.traverse(n,function(e,t,n){e=o.item(e,t);e.listIndex=t,i.push(e)})}else u.traverse(this.child,function(e,t,n){h(e,"Object")&&e.name&&i.push(e)});return r.getAddress(i,this.name)}}[e].call(this)},setDefineProperty:function(e,t){p.WidgetDefineProperty((-1!=e.indexOf("Css")?p.CSSCache:p.WidgetCache)[e],t)},getNxWidget:function(e,t,n,i,o){t=t||{},n={name:p.CreateWidgetName(e),show:!0,style:"",className:"",type:e,defaultcss:i,tag:t.tag||n};return t.stopProp&&(t.on&&!t.on.click&&Object.assign(t.on,{click:function(){}}),t.on||(t.on={click:function(){}})),Object.assign(n,t),n.styleObj=p.CSS.strStyleToObj(r.getKeyValue.call(n,"style")),n.style=p.CSS.objStyleToStr(n.styleObj),n.html=r.getKeyValue.call(n,"html"),n.child=r.getKeyValue.call(n,"child"),"List"===n.type&&(n.clear=r.getDomEvent.call(n,"clear"),n.delete=r.getDomEvent.call(n,"delete"),n.insertFirst=r.getDomEvent.call(n,"insertFirst"),n.insertLast=r.getDomEvent.call(n,"insertLast"),n.insert=r.getDomEvent.call(n,"insert"),n.update=r.getDomEvent.call(n,"update")),"Image"==n.type&&"Input"==n.type||(n.append=r.getDomEvent.call(n,"append"),n.prepend=r.getDomEvent.call(n,"prepend"),n.removeChild=r.getDomEvent.call(n,"removeChild"),n.empty=r.getDomEvent.call(n,"empty")),n.after=r.getDomEvent.call(n,"after"),n.before=r.getDomEvent.call(n,"before"),n.remove=r.getDomEvent.call(n,"remove"),p.WidgetCache[n.name]=n,o&&r.setDefineProperty(n.name,o),"Page"==e&&(p.PageCache.push(n.name),console.time("Render"),console.timeEnd("Render")),n}};return{Css:function(e){e=e||"";var t={type:"Css"},n=p.CreateWidgetName("Css");return t.name=n,t.styleObj=p.CSS.strStyleToObj(e),t.style=p.CSS.objStyleToStr(t.styleObj),p.CSSCache[n]=t,r.setDefineProperty(n,["style"]),p.CSSCache[n]},Page:function(e){return r.getNxWidget("Page",e,"div","position:relative;",["style","child","className","show"])},Text:function(e,t){return(t=t||{}).text=e,r.getNxWidget("Text",t,"span","",["text","style","className","show"])},Image:function(e,t){return(t=t||{}).imgurl=e,delete t.child,r.getNxWidget("Image",t,"img","border:0;",["style","className","show"])},Box:function(e){return r.getNxWidget("Box",e,"div","background-color:#3D3F3F;",["style","child","className","show"])},List:function(e){return r.getNxWidget("List",e,"ul","",["style","child","show"])},Drag:function(e){var t={press:function(){},move:function(){},up:function(){}};return(e=e||{}).on=e.on?Object.assign(t,e.on):t,e.position={x:0,y:0,startX:0,startY:0},r.getNxWidget("Drag",e,"div","position:fixed;background-color:#3D3F3F;",["style","show"])},Stack:function(e){return r.getNxWidget("Stack",e,"div","position:relative;background-color:#3D3F3F;",["style","show"])},Position:function(e){return r.getNxWidget("Position",e,"div","position:absolute;background-color:#3D3F3F;",["style","show"])},Fixed:function(e){return r.getNxWidget("Fixed",e,"div","position:fixed;background-color:#3D3F3F;",["style","show"])},Carousel:function(l){var e={direction:"horizontal",speed:1e3,autoPlay:!1,initSlide:0,touchRatio:.1,allowTouchMove:!0};(l=l||{}).option=l.option?Object.assign(e,l.option):e,l.activeIndex=0,l.inited=!1,l.autoPlayTimer=null,l.autoPlayNext=!0,l.setPagination=function(){var e=d.HTML,n=this;this.paginationStyle=e.Css("display:inline-block;width:10px;height:10px;border-radius:10px;margin:5px;background-color:rgba(255,255,255,0.5);"),this.paginationDefaultStyle="background-color:rgba(255,255,255,0.5);",this.paginationActiveStyle="background-color:rgba(255,255,255,1);",this.paginationList&&this.paginationList.remove(),this.paginationList=e.List({tag:"div",style:"width:100%;text-align:center;background-color:rgba(0,0,0,0); color:#fff;position:absolute;z-index:0;bottom:0;",data:this.maxIndex+1,item:function(e,t){return SparkApp.Box({tag:"i",style:"background-color:rgba(255,255,255,0.5);",className:n.paginationStyle,init:function(){e==n.option.initSlide&&(this.style=n.paginationActiveStyle)},on:{click:function(){n.slideTo(e)}}})}}),this.append(this.paginationList)},l.slidePrev=function(e){var t=this.activeIndex-1;this.slideTo(t,e)},l.slideNext=function(e){var t=this.activeIndex+1;this.slideTo(t,e)},l.stopAutoPlay=function(){this.autoPlayTimer&&(clearTimeout(this.autoPlayTimer),this.option.autoPlay=!1,this.autoPlayTimer=null)},l.startAutoPlay=function(e){var t=this;this.option.autoPlay=e||this.option.autoPlay||!0,e=2e3<(e=!0===this.option.autoPlay?3e3:this.option.autoPlay)?e:2e3;var n=function(){t.autoPlayTimer=setTimeout(function(){t.activeIndex===t.maxIndex&&(t.autoPlayNext=!1),0===t.activeIndex&&(t.autoPlayNext=!0),t.autoPlayNext?t.slideNext():t.slidePrev(),n()},e)};n()},l.slideTo=function(e,t){var n;e<0||e>this.maxIndex||(t=t||1e3,(n=this.Wrapper).displacementSwitch&&(n.displacementSwitch=!1,n.displacement({a:{x:n.position.x,y:n.position.y},b:{x:n.bounded.y?-n.width()/n.child.length*e:0,y:n.bounded.x?-n.height()/n.child.length*e:0}},e>=this.activeIndex,t,e)))},l.appendSlide=function(e){this.Wrapper.append(e),this.update()},l.prependSlide=function(e){this.Wrapper.prepend(e),this.update()},l.update=function(){var i,o,e,t,n,r,a,s=u.isInArrayIncludes(this.child,{b:"CarouselWrapper"});-1!=s&&(i=this.width(),o=this.height(),e=p.getAddressData(this.child[s]),this.style="overflow:hidden;position:relative;width:"+i+"px;height:"+o+"px;",e.bounded.x="vertical"==this.option.direction,e.bounded.y="vertical"!=this.option.direction,e.bounded.disable=!this.option.allowTouchMove,t="vertical"==this.option.direction?i:i*e.child.length,s="vertical"==this.option.direction?o*e.child.length:o,e.style="overflow:hidden;position:absolute;width:"+t+"px;height:"+s+"px;",u.traverse(e.child,function(e,t,n){p.getAddressData(e).style="position:relative;width:"+i+"px;height:"+o+"px;"+("vertical"==l.option.direction?"":"float:left;")}),this.Wrapper=e,this.maxIndex=e.child.length-1,this.option.initSlide=this.option.initSlide>this.maxIndex?this.maxIndex:this.option.initSlide,n=this.inited?this.activeIndex:this.option.initSlide,this.option.pagination&&this.setPagination(),h(n,"Number")&&(r=this,a=setTimeout(function(){clearTimeout(a),r.slideTo(n,100)})))},l.init=function(){this.update(),this.activeIndex=this.option.initSlide,this.onInit&&this.onInit(),this.inited=!0,this.option.autoPlay&&this.startAutoPlay()};e=d.HTML;return l.child=[e.CarouselWrapper({child:l.child})],r.getNxWidget("Carousel",l,"div","position:relative;width:100%;height:100%;background-color:#3D3F3F;overflow:hidden;",["style","show"])},CarouselWrapper:function(e){return(e=e||{}).position={x:0,y:0,startX:0,startY:0},e.bounded={y:!0,parent:!1,out:!1,disable:!0},e.type="Drag",e.on={press:function(){},hover:function(){p.getAddressData(this.parentName).stopAutoPlay()},leave:function(){var e=p.getAddressData(this.parentName);e.option.autoPlay&&e.startAutoPlay()},move:function(){var e;this.bounded.disable||(e=p.getAddressData(this.parentName),this.bounded.y&&(this.displacementBounce=Math.abs(this.position.lastX-this.position.x)>=e.option.touchRatio*e.width()),this.bounded.x&&(this.displacementBounce=Math.abs(this.position.lastY-this.position.y)>=e.option.touchRatio*e.height()))},up:function(){var e,t,n;this.displacementSwitch&&!this.bounded.disable&&(t=(e=p.getAddressData(this.parentName)).activeIndex,this.displacementSwitch=!1,n=this.bounded.disable=!0,"left"!=this.position.direction&&"up"!=this.position.direction||(n=!!this.displacementBounce&&(t+=1,!0),t>this.child.length-1&&(n=!1,t=this.child.length-1)),"right"!=this.position.direction&&"down"!=this.position.direction||(n=!this.displacementBounce||(--t,!1),t<0&&(n=!0,t=0)),this.displacement({a:{x:this.position.x,y:this.position.y},b:{x:this.bounded.y?-this.width()/this.child.length*t:0,y:this.bounded.x?-this.height()/this.child.length*t:0}},n,e.option.speed,t))}},e.displacementBounce=!0,e.displacementSwitch=!0,e.displacement=function(n,i,e,t){e=1500<e?1500:e;var o=p.getAddressData(this.parentName),r=this,a=this.bounded.y?Math.abs(n.b.x-n.a.x):Math.abs(n.b.y-n.a.y),s=parseInt(a/e*200)+1,l=s,d=null,c=0;o.activeIndex=t,o.on&&o.on.slideStart&&o.on.slideStart.call(o),o.option.pagination&&(o.paginationStyle.style=o.paginationDefaultStyle,o.paginationList.getChild(t).style=o.paginationActiveStyle);function h(){clearTimeout(d),o.activeIndex=t,r.displacementSwitch=!0,o.option.allowTouchMove&&(r.bounded.disable=!1),o.on&&o.on.slideEnd&&o.on.slideEnd.call(o)}var u=function(){d=setTimeout(function(){i?(n.a.x-=s,n.a.y-=s):(n.a.x+=s,n.a.y+=s),c=20,s=parseInt(s>parseInt(.3*l)?s-s/4:s)+1,r.position.x=parseInt(n.a.x),r.position.y=parseInt(n.a.y),i?(r.bounded.y&&(n.a.x>n.b.x?u():(r.position.x=n.b.x,h())),r.bounded.x&&(n.a.y>n.b.y?u():(r.position.y=n.b.y,h()))):(r.bounded.y&&(n.a.x<n.b.x?u():(r.position.x=n.b.x,h())),r.bounded.x&&(n.a.y<n.b.y?u():(r.position.y=n.b.y,h())));var e=r.bounded.x?"":"left:"+r.position.x+"px;",t=r.bounded.y?"":"top:"+r.position.y+"px;";r.style=e+t},c)};u()},r.getNxWidget("CarouselWrapper",e,"div","width:100%;height:100%;position:absolute;background-color:#3D3F3F;overflow:hidden;touch-action:none;",["style"])},Modal:function(e){var t=d.HTML;(e=Object.assign({bgColor:"rgba(0,0,0,0.5)",bgClose:!1,bgShow:!1,drag:!1,stopProp:!0,positionMargin:"3%",autoClose:!1,position:"center"},e)).show=!1;var n={wrap:null,inner:null,set:function(e){var t=e.positionMargin;switch(e.position){case"topcenter":this.inner.style="top:"+t+";left:50%;margin-left:-"+this.inner.width()/2+"px;margin-top:none;bottom:none;";break;case"topleft":this.inner.style="top:"+t+";left:"+t+";margin-top:none;margin-left:none;bottom:none;";break;case"topright":this.inner.style="top:"+t+";right:"+t+";margin-top:none;margin-left:none;bottom:none;";break;case"bottomcenter":this.inner.style="bottom:"+t+";left:50%;margin-left:-"+this.inner.width()/2+"px;margin-top:none;top:none;";break;case"bottomleft":this.inner.style="bottom:"+t+";left:"+t+";margin-top:none;margin-left:none;top:none;";break;case"bottomright":this.inner.style="bottom:"+t+";right:"+t+";margin-top:none;margin-left:none;top:none;";break;default:this.inner.style="top:50%;left:50%;margin-left:-"+this.inner.width()/2+"px;margin-top:-"+this.inner.height()/2+"px;bottom:none;right:none;"}this.autoClose(e)},autoCloseTimer:null,autoClose:function(e){var t;h(e.autoClose,"Number")&&(t=e.autoClose<1e3?1e3:e.autoClose,this.autoCloseTimer=setTimeout(function(){clearTimeout(n.autoCloseTimer),e.close()},t))},con:function(){delete e.child,delete e.hideAni,delete e.showAni,delete e.show,delete e.style,delete e.on,Object.assign(n.wrap,e)}};return e.bgShow||(e.on=e.bgClose?{click:function(){this.close()}}:null,e.close=function(){n.inner.show=!1,clearTimeout(n.autoCloseTimer)},e.open=function(){n.inner.show||(n.inner.show=!0,n.set(n.inner))}),n.inner=r.getNxWidget("Modal",e,"div","width:50px;height:50px;position:fixed;z-index:9999;background-color:#3D3F3F;cursor:auto;",["style","show"]),n.wrap=e.bgShow?t.Fixed({style:"top:0;left:0;right:0;width:100%;height:100%;background-color:"+e.bgColor+";z-index:9999;overflow:hidden;cursor:auto;",child:[n.inner],show:!1,on:e.bgClose?{click:function(){this.close()}}:null,close:function(){n.inner.show=!1,n.inner.hideAni&&n.inner.hideAni.time?setTimeout(function(){n.wrap.show=!1},n.inner.hideAni.time):n.wrap.show=!1,clearTimeout(n.autoCloseTimer)},open:function(){n.wrap.show||(n.wrap.show=n.inner.show=!0,n.set(n.wrap))}}):null,e.bgShow&&n.con(),e.bgShow?n.wrap:n.inner}}},s.prototype.CSSManager=function(){var r={autoprefixerConfig:{param:{transition:["-webkit-","-moz-","-ms-","-o-"],transform:["-webkit-","-moz-","-ms-","-o-"],animation:["-webkit-","-moz-","-ms-","-o-"],"animation-name":["-webkit-","-moz-","-ms-","-o-"],"user-select":["-webkit-","-moz-","-ms-","-o-"],"border-radius":["-webkit-","-moz-","-ms-"],"border-top-colors":["-moz-"],"border-right-colors":["-moz-"],"border-bottom-colors":["-moz-"],"border-left-colors":["-moz-"],"box-shadow":["-webkit-","-moz-"],"backface-visibility":["-webkit-","-moz-","-ms-"],"flex-direction":["-webkit-","-moz-","-ms-","-o-"],flex:["-prefix-box","-webkit-box-","-moz-box-","-webkit-","-ms-"],order:["box-order","-webkit-box-","-moz-box-","-webkit-"],"justify-content":["-webkit-","-moz-","-ms-","-o-"],"align-items":["-webkit-","-moz-","-ms-","-o-"],"flex-wrap":["-webkit-","-moz-","-ms-","-o-"],"flex-flow":["-webkit-","-moz-"],"background-size":["-webkit-"],"box-sizing":["-webkit-","-moz-"]},value:{grid:["-ms-grid"],flex:["box","-webkit-box","-ms-flexbox","-moz-box","-webkit-flex"],"linear-gradient":["-webkit-linear-gradient","-moz-linear-gradient","-ms-linear-gradient","-o-linear-gradient"],calc:["-webkit-calc"]}},insert:function(e,t,n){var i=c.createElement("style");i.type="text/css",i.setAttribute(e,t),i.innerText+=(/modifycss/.test(e)?"."+t:"")+n,c.head.insertBefore(i,c.head.lastChild)},remove:function(e){e=c.querySelector(e);e&&c.head.removeChild(e)},autoprefixer:function(e,i){var e=e.split(":"),o=u.trim(e[0]),r=u.trim(e[1]),e=this.autoprefixerConfig.param[o];e&&u.traverse(e,function(e,t,n){i[e+o]=r})}};return{add:function(e,t){t=t&&u.trim(t),r.remove("[data-style='"+e+"']"),r.insert("data-style",e,t)},modify:function(e,t){t=u.trim(t),r.remove("[data-modifycss='"+e+"']"),r.insert("data-modifycss",e,t)},strStyleToObj:function(e){var o={};if(!h(e,"String"))return o;e=u.trim(e).replace(new RegExp("http:","ig"),"").replace(new RegExp("https:","ig"),"").replace(new RegExp('"',"ig"),"").replace(new RegExp("'","ig"),"").split(";");return u.traverse(e,function(e,t,n){var i;e&&(e=(i=e).split(":"),o[u.trim(e[0])]=u.trim(e[1]),r.autoprefixer(i,o))}),o},objStyleToStr:function(e){var t=JSON.stringify(e);return h(e,"Object")&&"{}"!=t?t.replace(new RegExp('\\","',"ig"),";").replace(new RegExp('\\":"',"ig"),":").replace(new RegExp('"',"ig"),"").replace(new RegExp("{"),"").replace(new RegExp("}"),";"):""},strStyleHandle:function(e,t,n){t=e.indexOf(t);return-1!=t&&(e=e.substring(0,t)+",."+n+e.substring(t,e.length)),e}}},s.prototype.getAddressData=function(e){try{if("string"==typeof e&&-1!=e.indexOf("Css"))throw"ERROR: Error useing Widget"}catch(e){return console.error(e),{}}return e&&this.WidgetCache[e]},s.prototype.ResetCss=function(e){var t=1==this.DefaultSetting.gray?'html{ filter: grayscale(100%); -webkit-filter: grayscale(100%); -moz-filter: grayscale(100%); -ms-filter: grayscale(100%); -o-filter: grayscale(100%); filter: url("data:image/svg+xml;utf8,#grayscale"); filter:progid:DXImageTransform.Microsoft.BasicImage(grayscale=1); -webkit-filter: grayscale(1);}':"";return this.DefaultSetting.resetCss||'html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;box-sizing:border-box;font-size:100%;vertical-align:baseline;background:transparent;}body{line-height:1;}ol,ul{list-style:none;}blockquote,q{quotes:none;}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none;}:focus{outline:0;}ins{text-decoration:none;}del{text-decoration:line-through;}table{border-collapse:collapse;border-spacing:0;}*{-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}::-webkit-scrollbar{width:5px;height:5px;position:absolute;}::-webkit-scrollbar-track{width:5px;background-color:rgba(0,0,0,0);-webkit-border-radius:2em;-moz-border-radius:2em;border-radius:2em}::-webkit-scrollbar-thumb{background-color:rgba(61,63,63,.5);background-clip:padding-box;min-height:20px;-webkit-border-radius:2em;-moz-border-radius:2em;border-radius:2em}::-webkit-scrollbar-thumb:hover{background-color:rgba(61,63,63,1)}'+t},s.prototype.makeStyleTree=function(e){e=this.ResetCss()+e;e&&this.CSS.add("MainCss",e)},s.prototype.makeNextStyleTree=function(e,t){e&&this.CSS.add("NextCss-"+t,e)},s.prototype.specialWidgetEvent=function(e){var n=this,a={Drag:{status:0,container:document.body,_this:null,bodyEvent:function(){a.Drag.end()},start:function(e,t){this.bounded&&this.bounded.disable||(e=e.targetTouches&&e.targetTouches[0]||e,this.bounded&&this.bounded.parent&&(a.Drag.container=n.getAddressData(this.parentName).$el),this.position.startX=e.clientX-t.offsetLeft,this.position.startY=e.clientY-t.offsetTop,this.position.lastX=this.position.x,this.position.lastY=this.position.y,a.Drag.status=1,(a.Drag._this=this).on.press.call(this),r(a.Drag.container,u.env.isMobile?"touchmove":"mousemove",a.Drag.move,{passive:!1}),this.bounded&&!this.bounded.parent&&r(a.Drag.container,u.env.isMobile?"touchend":"mouseup",a.Drag.bodyEvent))},move:function(e,t){var n,i,o,r;a.Drag.status&&(e.preventDefault(),e.stopPropagation(),i=e||window.event,n=a.Drag._this,o=i.targetTouches&&i.targetTouches[0]||i,r=n.bounded&&n.bounded.x?0:o.clientX-n.position.startX,e=n.bounded&&n.bounded.y?0:o.clientY-n.position.startY,n.bounded&&n.bounded.out&&(i="BODY"===a.Drag.container.tagName?u.screen.width():a.Drag.container.offsetWidth,o="BODY"===a.Drag.container.tagName?u.screen.height():a.Drag.container.offsetHeight,r<=0&&(r=0),r+n.width()>=i&&(r=i-n.width()),e<=0&&(e=0),e+n.height()>=o&&(e=o-n.height())),r>n.position.x&&(n.position.direction="right"),r<n.position.x&&(n.position.direction="left"),e>n.position.y&&(n.position.direction="down"),e<n.position.y&&(n.position.direction="up"),n.position.x=r,n.position.y=e,r=n.bounded&&n.bounded.x?"":"left:"+n.position.x+"px;",e=n.bounded&&n.bounded.y?"":"top:"+n.position.y+"px;",n.style=r+e,n.on.move.call(n))},end:function(e){var t;0!=a.Drag.status&&(t=a.Drag._this,a.Drag.status=0,t.on.up.call(t),i(a.Drag.container,u.env.isMobile?"touchmove":"mousemove",a.Drag.move),t.bounded&&!t.bounded.parent&&i(a.Drag.container,u.env.isMobile?"touchend":"mouseup",a.Drag.bodyEvent))}}};return a[e]},s.prototype.addWidgetEvent=function(n,i){var o;(i=this.getAddressData(i)).on&&(o=this.specialWidgetEvent(i.type),i.on.click&&r(n,"click",i.debounce?u.debounce(function(){i.on.click(i)},100):function(e){e.stopPropagation(),i.on.click.call(i,e)},{capture:!1,passive:!0}),i.on.press&&r(n,u.env.isMobile?"touchstart":"mousedown",function(e){var t;e.stopPropagation(),"Drag"==i.type&&o?(t=e||window.event,o.start.call(i,t,n)):i.on.press.call(i,e)},{capture:!0,passive:!0}),i.on.move&&"Drag"!=i.type&&r(n,u.env.isMobile?"touchmove":"mousemove",function(e){e.stopPropagation(),i.on.move.call(i,e)},{capture:!0,passive:!0}),i.on.up&&r(n,u.env.isMobile?"touchend":"mouseup",function(e){var t;e.stopPropagation(),"Drag"==i.type&&o?(t=e||window.event,o.end.call(i,t,n)):i.on.up.call(i,e)},{capture:!0,passive:!0}),i.on.hover&&r(n,"mouseover",function(e){e.stopPropagation(),i.on.hover.call(i,e)}),i.on.enter&&r(n,"mouseenter",function(e){e.stopPropagation(),i.on.enter.call(i,e)}),i.on.out&&r(n,"mouseout",function(e){e.stopPropagation(),i.on.out.call(i,e)}),i.on.leave&&r(n,"mouseleave",function(e){e.stopPropagation(),i.on.leave.call(i,e)}))},s.prototype.createDomTree=function(e,s,r,a,l){var d=this,t={_html:null,_css:"",_eventQueue:[],_rootAdress:e,_lastAdress:null,_clear:function(){this._eventQueue=[],this._html=null},render:function(){var e=this,t=d.getAddressData(e._rootAdress);if(e.readAdress(t),"Page"===t.type&&r){var n,i=c.getElementById("SparkApp-"+d.DefaultSetting.name),t=c.getElementsByClassName(t.name).length<=1;if(i){if(!t)return;d.makeNextStyleTree(e._css,e._rootAdress),(n=c.createElement("div")).innerHTML=this._html,i.appendChild(n.firstChild),n=null}else d.makeStyleTree(e._css),(n=c.createElement("div")).setAttribute("id","SparkApp-"+d.DefaultSetting.name),n.innerHTML=this._html,s.insertBefore(n,s.firstChild),n=null;var o=setTimeout(function(){clearTimeout(o),e.initPushEvent.call(e,!0),e.renderComplete.call(e,e._rootAdress),e._clear(),l&&l()})}else{if(d.makeNextStyleTree(e._css,e._rootAdress),(n=document.createElement("div")).innerHTML=e._html,"after"==a||"before"==a){i=s;if(!h(s.parentName,"String"))return void console.warn("insert failed!");s=d.getAddressData(s.parentName),e.after_before(s.$el,i.$el,n,a)}"append"!=a&&"prepend"!=a||e.append_prepend(s.$el,n,a);o=setTimeout(function(){clearTimeout(o),e.initPushEvent.call(e),e.renderComplete.call(e,e._rootAdress),"List"===s.type&&d.updateListIndex(s),e._clear()})}},append_prepend:function(i,e,o){var r=this;h(i,"HTMLCollection")?u.traverse(i.length,function(e,t){var n=document.createElement("div");n.innerHTML=r._html,"append"==o&&(i[e].appendChild(n.firstChild),d.addWidgetEvent(i[e].lastChild,r._rootAdress)),"prepend"==o&&(i[e].insertBefore(n.firstChild,i[e].firstChild),d.addWidgetEvent(i[e].firstChild,r._rootAdress))}):("append"==o&&(i.appendChild(e.firstChild),d.addWidgetEvent(i.lastChild,r._rootAdress)),"prepend"==o&&(i.insertBefore(e.firstChild,i.firstChild),d.addWidgetEvent(i.firstChild,r._rootAdress)))},after_before:function(e,o,t,r){var a=this;h(e,"HTMLCollection")?u.traverse(s.$el.length,function(e,t){var n=document.createElement("div");n.innerHTML=a._html;var i=o[e].parentNode;"after"==r&&(i.lastChild==o[e]?i.appendChild(n.firstChild):i.insertBefore(n.firstChild,o[e].nextElementSibling),d.addWidgetEvent(o[e].nextElementSibling,a._rootAdress)),"before"==r&&(i.insertBefore(n.firstChild,o[e]),d.addWidgetEvent(o[e].previousElementSibling,a._rootAdress))}):(e=o.parentNode,"after"==r&&(e.lastChild==o?e.appendChild(t.firstChild):e.insertBefore(t.firstChild,o.nextElementSibling),d.addWidgetEvent(o.nextElementSibling,a._rootAdress)),"before"==r&&(e.insertBefore(t.firstChild,o),d.addWidgetEvent(o.previousElementSibling,a._rootAdress)))},renderComplete:function(e){var i=this,t=d.getAddressData(e),e=c.getElementsByClassName(e);t.$el=1<e.length?e:e[0],null==t.show||t.show||(t.style="display:none;"),!r&&t.parentName?("object"==typeof t.parentName&&t.parentName.push(s.name),"string"==typeof t.parentName&&(e=t.parentName,t.parentName=[],t.parentName=t.parentName.concat([e,s.name])),t.parentName=u.unique(t.parentName)):r||t.parentName||(t.parentName=s.name),"Drag"===t.type&&(t.position={x:t.$el.offsetLeft,y:t.$el.offsetTop,startX:0,startY:0,direction:null}),t.width=function(e){if(!e)return t.$el.offsetWidth;t.style="width:"+e+";"},t.height=function(e){if(!e)return t.$el.offsetHeight;t.style="height:"+e+";"},t.getChild=function(e){if(!(t.child.length<=0))return d.getAddressData(t.child[e])},t.init&&t.init(),t.child&&0<t.child.length&&u.traverse(t.child,function(e,t,n){i.renderComplete(e)})},pushHtml:function(e,t,n){var i=this;i._html=i._html?i.RegExp(i._html,t,i._lastAdress):i.RegExp(e,t,n)},pushCss:function(e){var t=this,n="cursor:pointer;",i=(h(e.style,"Object")?e.style:e).name,o=(h(e.style,"Object")?e.style:e).style,r=(h(e.shover,"Object")?e.shover:e).name,a=h(e.shover,"Object")?e.shover.style:e.shover,o="{"+(e.on?n:"")+d.CSS.objStyleToStr(d.CSS.strStyleToObj(o))+"}",a=a&&"{"+n+d.CSS.objStyleToStr(d.CSS.strStyleToObj(a))+"}",n="{}"==o||u.includes(t._css,i)?"":"."+i+o,e=e.shover&&!u.includes(t._css,"."+r+":hover")?"."+r+":hover"+a:"";u.includes(t._css,o)||u.includes(t._css,a)?(u.includes(t._css,o)&&!u.includes(t._css,i)&&(t._css=d.CSS.strStyleHandle(t._css,o,i)),u.includes(t._css,a)&&(t._css=d.CSS.strStyleHandle(t._css,a,r+":hover"))):t._css+=u.trim(n+e)},initPushEvent:function(o){var r=this;r._eventQueue=u.unique(r._eventQueue),u.traverse(r._eventQueue,function(n,e,t){var i;r._rootAdress==n&&!o||(i=document.getElementsByClassName(n),u.traverse(i.length,function(e,t){d.addWidgetEvent(i[e],n)}))})},RegExp:function(e,t,n){return e.replace(new RegExp("\\[\\["+n+"\\]\\]"),t)},handelQueue:function(e){var t=this;e.forEach(function(e){t._lastAdress=e,t.readAdress(d.getAddressData(e))})},readAdress:function(e){var t=this,n=e.html,i="",o=[],r=0;for(e.child&&0!=e.child.length||t.pushHtml(n,i,e.name),t.pushCss(e),e.on&&h(e.on,"Object")&&t._eventQueue.push(e.name);e.child&&e.child[r];){var a=d.getAddressData(e.child[r]);a.child&&o.push(a.name),i+=a.html,t.pushCss(a),a.on&&h(a.on,"Object")&&t._eventQueue.push(a.name),r===e.child.length-1&&(t.pushHtml(n,i,e.name),0<o.length&&t.handelQueue(o)),r++}}};try{t.render()}catch(e){console.error(e)}},s.prototype.clearWidget=function(e){var i=this;(!h(e.$el,"HTMLCollection")||h(e.$el,"HTMLCollection")&&0===e.$el.length)&&delete this.WidgetCache[e.name],0<e.child.length&&u.traverse(e.child,function(e,t,n){i.clearWidget(i.getAddressData(e))})},s.prototype.updateListIndex=function(e){var o=this,r=function(e,i){u.traverse(e.child,function(e,t,n){e=o.getAddressData(e);"Text"==e.type&&e.listIndex&&(e.text=i),0<e.child.length&&r(e,i)})};u.traverse(e.child,function(e,t,n){e=o.getAddressData(e);e&&(e.listIndex=t,e.init&&e.init(),r(e,t))})},s.prototype.addDom=function(r,e,a,s){var l=this,d=r;if("after"==a||"before"==a){if(!h(r.parentName,"String"))return r;r=l.getAddressData(r.parentName)}if(!r.child||!e)return r;var t=[],c=r.child.slice(0);return h(e,"Array")&&(t=t.concat(e)),h(e,"Object")&&t.push(e),u.traverse(t,function(e,t,n){l.getAddressData(e.name)||(l.WidgetCache[e.name]=e);var i,o=s||e.showAni;o&&o.ani&&(e.style="animation:"+o.ani+";"),"append"==a&&c.push(e.name),"prepend"==a&&c.unshift(e.name),"after"==a&&(i=u.isInArray(c,{b:d.name}),c.splice(i+1,0,e.name)),"before"==a&&(i=u.isInArray(c,{b:d.name}),c.splice(i,0,e.name)),l.createDomTree(e.name,"after"==a||"before"==a?d:r,!1,a),n&&(r.child=c)}),t=c=null,r},s.prototype.remove=function(n,i){var e=this;if(n){if(!n.child||"[object Undefined]"==i)return n;var o,t,r,a=n.child.slice(0),s=u.isInArray(n.child,{b:i.name});return h(i,"Object")&&-1!=s&&(u.compareRemove(a,{b:i.name}),o=function(e){if("List"===n.type&&n.data.splice(s,1),h(i.$el,"HTMLCollection")){for(var t=i.$el.length-1;0<=t;--t)i.$el[t].parentNode==e&&e.removeChild(i.$el[t]);u.compareRemove(i.parentName,{b:n.name})}else i.$el&&e.removeChild(i.$el)},h(n.$el,"HTMLCollection")?u.traverse(n.$el.length,function(e,t){o(n.$el[e])}):o(n.$el),e.clearWidget(i),n.child=a),h(i,"String")&&("firstChild"==i||"lastChild"==i?e.remove(n,"firstChild"==i?0:a.length-1):console.warn("second<string>:firstChild || lastChild")),h(i,"Number")&&(h(n.$el,"HTMLCollection")?u.traverse(n.$el.length,function(e,t){n.$el[e].childNodes[i]&&n.$el[e].removeChild(n.$el[e].childNodes[i])}):n.$el.childNodes[i]&&n.$el.removeChild(n.$el.childNodes[i]),t=e.getAddressData(a[i]),e.clearWidget(t),a.splice(i,1),n.child=a),"List"===n.type&&(r=setTimeout(function(){clearTimeout(r),e.updateListIndex(n)},100)),a=null,n}},s.prototype.LoadModule=function(e,t){e=u.includes(e.path,".js")?e.path:e.path+".js";u.getFile(e,function(e){t(e)})},s.prototype.ChunkVendors=function(e,t){var n=c.createElement("script");n.innerHTML=e,c.body.appendChild(n);var i=setTimeout(function(){t(),clearTimeout(i),c.body.removeChild(n)})},s.prototype.HandlerModuleCodeText=function(n){var i,o,r,e=d,a=e.tempModuleLoadQueue;a.length<=0||(o="",(r=function(t){e.LoadModule(t,function(e){i++,o+=e+"\n;"+t.name+".render();\n",i>=a.length?n("(function(document, window){"+o+"})(document, window)"):r(a[i])})})(a[i=0]))},s.prototype.HandlerModule=function(e){var t=d,n=[],i=function(e){h(e,"Object")&&(n.push(e),e.depends&&i(e.depends)),h(e,"Array")&&(n=n.concat(e),u.traverse(e,function(e,t,n){e.depends&&i(e.depends)}))};i(e),t.tempModuleLoadQueue=n.reverse()},s.prototype.SparkRouter=function(e){var t=d;"PageModule"==e&&(t.PageCache=t.PageCache.reverse());var n=t.PageCache,i=0,o=function(e){t.createDomTree(e,c.body,!0,"",function(){++i>=n.length||o(n[i])})};o(n[i])},s.prototype.SparkRender=function(e){function t(e){var t;0==n.PageCache.length?((t=c.createElement("div")).innerHTML='<h2 style="background:#000;color:#fff;padding:5px;">warning:please solve the error -> failed to create page!<h2>',c.body.insertBefore(t,c.body.firstChild),console.warn("please solve the error -> failed to create page!")):1<n.PageCache.length?n.SparkRouter(e):n.createDomTree(n.PageCache[0],c.body,!0)}var n=d,i=[];h(e,"Undefined")&&t("PageSingle"),h(e,"Object")&&i.push(e),h(e,"Array")&&(i=i.concat(e)),n.HandlerModule(i),n.HandlerModuleCodeText(function(e){n.ChunkVendors(e,function(){t("PageModule")})})};var l=new a,d=new s;function p(e){Object.assign(d.DefaultSetting,e),Object.assign(this,d.HTML),!0===d.DefaultSetting.devTool&&h(d.DefaultSetting.devTool,"Boolean")&&u.devTool(),this.vcss=d.CSSCache,this.vdom=d.WidgetCache,this.vpage=d.PageCache,this.Render=d.SparkRender,this.module={},this.moduleJs=null,this.env=u.env,this.screen=u.screen,this.urlParams={search:l.getUrlSearchParam(),hash:l.getUrlHashParam()}}return p.prototype.append=function(e,t){return d.addDom(e,t,"append")},p.prototype.prepend=function(e,t){return d.addDom(e,t,"prepend")},p.prototype.remove=function(e,t){return d.remove(e,t)},p.prototype.scrollTop=function(e,t){var n,i,o,r,a,s,l=this.screen.scrollTop();t=t||500,e="top"===(e="bottom"===(e=e||0)?this.screen.scrollHeight()-this.screen.height():e)?0:e,l!=e&&(n=e<l,i=parseInt(Math.abs(l-e)/t*100)+1,o=i,r=null,a=0,(s=function(){r=setTimeout(function(){n?l-=i:l+=i,a=20,i=parseInt(i>parseInt(.2*o)?i-i/4:i)+1,n?(e<l&&s(),l<=e&&(clearTimeout(r),l=e)):(l<e&&s(),e<=l&&(clearTimeout(r),l=e)),document.body.scrollTop=document.documentElement.scrollTop=l},a)})())},p});